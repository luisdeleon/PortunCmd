<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="https://media.portun.app/i/adaptive-icon.png" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portun - CMD Dashboard</title>
  <link rel="stylesheet" type="text/css" href="/loader.css" />
</head>

<body>
  <div id="app">
    <div id="loading-bg">
      <div class="loading-logo">
        <img src="https://media.portun.app/i/portun-shield.png" alt="Logo" style="width: 86px; height: auto;" />
      </div>
      <div class=" loading">
        <div class="effect-1 effects"></div>
        <div class="effect-2 effects"></div>
        <div class="effect-3 effects"></div>
      </div>
    </div>
  </div>
  <script>
    // Set loader colors first
    const loaderColor = localStorage.getItem('portun-initial-loader-bg') || '#FFFFFF'
    const primaryColor = localStorage.getItem('portun-initial-loader-color') || '#6979F8'

    if (loaderColor)
      document.documentElement.style.setProperty('--initial-loader-bg', loaderColor)

    if (primaryColor)
      document.documentElement.style.setProperty('--initial-loader-color', primaryColor)
    
    // Hide loader after a short delay to prevent hanging
    // This ensures the loader doesn't block the page if Vue takes time to load
    setTimeout(() => {
      const loadingBg = document.getElementById('loading-bg')
      const loading = document.querySelector('.loading')
      if (loadingBg) {
        loadingBg.style.display = 'none'
      }
      if (loading) {
        loading.style.display = 'none'
      }
    }, 2000) // 2 second max loader time
  </script>
  <script type="module" src="/src/main.ts"></script>
  </body>
</html>
